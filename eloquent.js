(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.Eloquent = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
require("whatwg-fetch"),module.exports=self.fetch.bind(self);

},{"whatwg-fetch":2}],2:[function(require,module,exports){
!function(){"use strict";function t(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function e(t){return"string"!=typeof t&&(t=String(t)),t}function r(t){this.map={},t instanceof r?t.forEach(function(t,e){this.append(e,t)},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function o(t){return t.bodyUsed?Promise.reject(new TypeError("Already read")):void(t.bodyUsed=!0)}function n(t){return new Promise(function(e,r){t.onload=function(){e(t.result)},t.onerror=function(){r(t.error)}})}function s(t){var e=new FileReader;return e.readAsArrayBuffer(t),n(e)}function i(t){var e=new FileReader;return e.readAsText(t),n(e)}function a(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,"string"==typeof t)this._bodyText=t;else if(p.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(p.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(t){if(!p.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t))throw new Error("unsupported BodyInit type")}else this._bodyText=""},p.blob?(this.blob=function(){var t=o(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this.blob().then(s)},this.text=function(){var t=o(this);if(t)return t;if(this._bodyBlob)return i(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)}):this.text=function(){var t=o(this);return t?t:Promise.resolve(this._bodyText)},p.formData&&(this.formData=function(){return this.text().then(f)}),this.json=function(){return this.text().then(JSON.parse)},this}function u(t){var e=t.toUpperCase();return c.indexOf(e)>-1?e:t}function h(t,e){e=e||{};var o=e.body;if(h.prototype.isPrototypeOf(t)){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new r(t.headers)),this.method=t.method,this.mode=t.mode,o||(o=t._bodyInit,t.bodyUsed=!0)}else this.url=t;if(this.credentials=e.credentials||this.credentials||"omit",(e.headers||!this.headers)&&(this.headers=new r(e.headers)),this.method=u(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o)}function f(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var r=t.split("="),o=r.shift().replace(/\+/g," "),n=r.join("=").replace(/\+/g," ");e.append(decodeURIComponent(o),decodeURIComponent(n))}}),e}function d(t){var e=new r,o=t.getAllResponseHeaders().trim().split("\n");return o.forEach(function(t){var r=t.trim().split(":"),o=r.shift().trim(),n=r.join(":").trim();e.append(o,n)}),e}function l(t,e){e||(e={}),this._initBody(t),this.type="default",this.status=e.status,this.ok=this.status>=200&&this.status<300,this.statusText=e.statusText,this.headers=e.headers instanceof r?e.headers:new r(e.headers),this.url=e.url||""}if(!self.fetch){r.prototype.append=function(r,o){r=t(r),o=e(o);var n=this.map[r];n||(n=[],this.map[r]=n),n.push(o)},r.prototype["delete"]=function(e){delete this.map[t(e)]},r.prototype.get=function(e){var r=this.map[t(e)];return r?r[0]:null},r.prototype.getAll=function(e){return this.map[t(e)]||[]},r.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},r.prototype.set=function(r,o){this.map[t(r)]=[e(o)]},r.prototype.forEach=function(t,e){Object.getOwnPropertyNames(this.map).forEach(function(r){this.map[r].forEach(function(o){t.call(e,o,r,this)},this)},this)};var p={blob:"FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in self,arrayBuffer:"ArrayBuffer"in self},c=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];h.prototype.clone=function(){return new h(this)},a.call(h.prototype),a.call(l.prototype),l.prototype.clone=function(){return new l(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new r(this.headers),url:this.url})},l.error=function(){var t=new l(null,{status:0,statusText:""});return t.type="error",t};var y=[301,302,303,307,308];l.redirect=function(t,e){if(-1===y.indexOf(e))throw new RangeError("Invalid status code");return new l(null,{status:e,headers:{location:t}})},self.Headers=r,self.Request=h,self.Response=l,self.fetch=function(t,e){return new Promise(function(r,o){function n(){return"responseURL"in i?i.responseURL:/^X-Request-URL:/m.test(i.getAllResponseHeaders())?i.getResponseHeader("X-Request-URL"):void 0}var s;s=h.prototype.isPrototypeOf(t)&&!e?t:new h(t,e);var i=new XMLHttpRequest;i.onload=function(){var t=1223===i.status?204:i.status;if(100>t||t>599)return void o(new TypeError("Network request failed"));var e={status:t,statusText:i.statusText,headers:d(i),url:n()},s="response"in i?i.response:i.responseText;r(new l(s,e))},i.onerror=function(){o(new TypeError("Network request failed"))},i.open(s.method,s.url,!0),"include"===s.credentials&&(i.withCredentials=!0),"responseType"in i&&p.blob&&(i.responseType="blob"),s.headers.forEach(function(t,e){i.setRequestHeader(e,t)}),i.send("undefined"==typeof s._bodyInit?null:s._bodyInit)})},self.fetch.polyfill=!0}}();

},{}],3:[function(require,module,exports){
"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function unwrapFirst(t){return t[0]?t[0]:null}function throwIfNotFound(t){if(null===t)throw new Error("ModelNotFoundException");return t}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),_get=function(t,e,r){for(var n=!0;n;){var u=t,o=e,i=r;n=!1,null===u&&(u=Function.prototype);var l=Object.getOwnPropertyDescriptor(u,o);if(void 0!==l){if("value"in l)return l.value;var s=l.get;if(void 0===s)return;return s.call(i)}var a=Object.getPrototypeOf(u);if(null===a)return;t=a,e=o,r=i,n=!0,l=a=void 0}},_QueryBuilder2=require("../Query/Builder"),_QueryBuilder3=_interopRequireDefault(_QueryBuilder2),EloquentBuilder=function(t){function e(t){_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t),this._model=null}return _inherits(e,t),_createClass(e,[{key:"find",value:function(t,e){return Array.isArray(t)?this.findMany(t,e):this.where(this._model.primaryKey,t).first()}},{key:"findMany",value:function(t,e){return this.whereIn(this._model.primaryKey,t).get(e)}},{key:"findOrFail",value:function(t,e){return this.find(t,e).then(throwIfNotFound)}},{key:"first",value:function(t){return this.limit(1).get(t).then(unwrapFirst)}},{key:"firstOrFail",value:function(t){return this.first(t).then(throwIfNotFound)}},{key:"value",value:function(t){return this.first(t).then(function(e){return e[t]})}},{key:"pluck",value:function(t){return this.value(t)}},{key:"lists",value:function(t){return this.get(t).then(function(e){return e.map(function(e){return e[t]})})}},{key:"with",value:function(){for(var t=arguments.length,e=Array(t),r=0;t>r;r++)e[r]=arguments[r];return this._call("with",e),this}},{key:"get",value:function(t){var r=this;return _get(Object.getPrototypeOf(e.prototype),"get",this).call(this,t).then(function(t){return r._model.hydrate(t)})}},{key:"update",value:function(t){return this.transport.put(this.getEndpoint(this._model.getKey()||"*"),t,this.stack)}},{key:"delete",value:function(){return this.transport["delete"](this.getEndpoint(this._model.getKey()||"*"),this.stack)}},{key:"scope",value:function(t,e){var r=[t];return e&&r.push(e),this._call("scope",r),this}},{key:"_getModel",value:function(){return this._model}},{key:"_setModel",value:function(t){var e=this;this._model=t,this.from(t.endpoint),t.constructor.scopes&&t.constructor.scopes.forEach(function(t){e[t]=function(){for(var e=arguments.length,r=Array(e),n=0;e>n;n++)r[n]=arguments[n];return this.scope(t,r),this}})}}]),e}(_QueryBuilder3["default"]);exports["default"]=EloquentBuilder,module.exports=exports["default"];

},{"../Query/Builder":6}],4:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function getMethods(e){return Object.getOwnPropertyNames(e.prototype).filter(function(t){return"_"!==t.charAt(0)&&"constructor"!==t&&"function"==typeof e.prototype[t]})}function asUnixTimestamp(){return Math.round(this.valueOf()/1e3)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_index=require("../index"),_index2=_interopRequireDefault(_index),_Builder=require("./Builder"),_Builder2=_interopRequireDefault(_Builder),booted=[],Model=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];_classCallCheck(this,e),this.bootIfNotBooted();var n=Object.getPrototypeOf(this).constructor;Object.defineProperties(this,{original:{writable:!0},exists:{value:!1,writable:!0},endpoint:{value:n.endpoint,writable:!0},primaryKey:{value:n.primaryKey||"id",writable:!0},dates:{value:(n.dates||[]).concat("created_at","updated_at","deleted_at")}}),this.fill(t),this._syncOriginal()}return _createClass(e,[{key:"bootIfNotBooted",value:function(){-1===booted.indexOf(this.constructor)&&this.constructor.boot()}},{key:"fill",value:function(e){for(var t in e)this.setAttribute(t,e[t]);return this}},{key:"_syncOriginal",value:function(){this.original=this.getAttributes()}},{key:"getAttribute",value:function(e){return this[e]}},{key:"setAttribute",value:function(e,t){return this.dates.indexOf(e)>-1&&(t=new Date(t),t.toJSON=asUnixTimestamp),this[e]=t,this}},{key:"getAttributes",value:function(){var e=Object.assign({},this);for(var t in e)this.dates.indexOf(t)>-1&&(e[t]=new Date(this[t]),e[t].toJSON=asUnixTimestamp);return e}},{key:"getDirty",value:function(){var e=this.getAttributes();for(var t in e)this.original[t].valueOf()===e[t].valueOf()&&delete e[t];return e}},{key:"newQuery",value:function(){var e=_index2["default"].make.Builder();return e._setModel(this),e}},{key:"hydrate",value:function(e){var t=this;return e.map(function(e){return t.newInstance(e,!0)})}},{key:"newInstance",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments.length<=1||void 0===arguments[1]?!1:arguments[1],n=new this.constructor(e);return n.exists=t,n}},{key:"save",value:function(){var e=this,t=void 0;return this.triggerEvent("saving")===!1?Promise.reject("saving.cancelled"):(t=this.exists?this._performUpdate():this._performInsert(),t.then(function(t){return e.exists=!0,e.triggerEvent("saved",!1),e.fill(t)&&e._syncOriginal()}))}},{key:"_performInsert",value:function(){var e=this;return this.triggerEvent("creating")===!1?Promise.reject("creating.cancelled"):this.newQuery().insert(this.getAttributes()).then(function(t){return e.triggerEvent("created",!1),t})}},{key:"_performUpdate",value:function(){var e=this;return this.triggerEvent("updating")===!1?Promise.reject("updating.cancelled"):this.newQuery().update(this.getDirty()).then(function(t){return e.triggerEvent("updated",!1),t})}},{key:"update",value:function(e){return this.exists?(this.fill(e),this.save()):this.newQuery().update(e)}},{key:"delete",value:function(){var e=this;return this.triggerEvent("deleting")===!1?Promise.reject("deleting.cancelled"):this.newQuery().where("id",this.getKey())["delete"]().then(function(t){return t&&(e.exists=!1),e.triggerEvent("deleted",!1),t})}},{key:"getKey",value:function(){return this[this.primaryKey]}},{key:"triggerEvent",value:function(e){for(var t=arguments.length<=1||void 0===arguments[1]?!0:arguments[1],n=this.constructor.events,r=0,i=(n[e]||[]).length;i>r;++r){var u=n[e][r](this);if(t&&"undefined"!=typeof u)return u}}}],[{key:"boot",value:function(){booted.push(this),this.events={},this.scopes&&this._bootScopes(this.scopes)}},{key:"_bootScopes",value:function(e){e.forEach(function(e){Object.defineProperty(this,e,{value:function(){for(var t=arguments.length,n=Array(t),r=0;t>r;r++)n[r]=arguments[r];return this.newQuery().scope(e,n)}}),Object.defineProperty(this.constructor,e,{value:function(){for(var t=arguments.length,n=Array(t),r=0;t>r;r++)n[r]=arguments[r];return this.query().scope(e,n)}})},this.prototype)}},{key:"query",value:function(){return(new this).newQuery()}},{key:"create",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=new this(e);return t.save().then(function(e){return t})}},{key:"all",value:function(e){return(new this).newQuery().get(e)}},{key:"creating",value:function(e){this.registerEventHandler("creating",e)}},{key:"created",value:function(e){this.registerEventHandler("created",e)}},{key:"updating",value:function(e){this.registerEventHandler("updating",e)}},{key:"updated",value:function(e){this.registerEventHandler("updated",e)}},{key:"saving",value:function(e){this.registerEventHandler("saving",e)}},{key:"saved",value:function(e){this.registerEventHandler("saved",e)}},{key:"deleting",value:function(e){this.registerEventHandler("deleting",e)}},{key:"deleted",value:function(e){this.registerEventHandler("deleted",e)}},{key:"registerEventHandler",value:function(e,t){this.events[e]||(this.events[e]=[]),this.events[e].push(t)}}]),e}();exports["default"]=Model,getMethods(_Builder2["default"]).concat(getMethods(Object.getPrototypeOf(_Builder2["default"]))).forEach(function(e){"undefined"==typeof Model.prototype[e]&&Object.defineProperty(Model.prototype,e,{value:function(){var t=this.newQuery();return t[e].apply(t,arguments)}}),"undefined"==typeof Model[e]&&Object.defineProperty(Model,e,{value:function(){var t=this.query();return t[e].apply(t,arguments)}})}),module.exports=exports["default"];

},{"../index":8,"./Builder":3}],5:[function(require,module,exports){
"use strict";function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _get=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;r=!1,null===o&&(o=Function.prototype);var u=Object.getOwnPropertyDescriptor(o,i);if(void 0!==u){if("value"in u)return u.value;var f=u.get;if(void 0===f)return;return f.call(a)}var c=Object.getPrototypeOf(o);if(null===c)return;e=c,t=i,n=a,r=!0,u=c=void 0}},_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Manager=function(){function e(t){_classCallCheck(this,e),this.registry=[],this.baseModel=t}return _createClass(e,[{key:"define",value:function(e,t){var n=t;"function"!=typeof t&&(n=function(e){return Object.assign(e,t)}),this.registry.push({name:e,factory:n,definition:null})}},{key:"named",value:function(e){var t=this.getRegistryItem(e);if("undefined"==typeof t)throw new Error('Cannot get definition for undefined model "'+e+'"');return t.definition||(t.definition=this.createDefinition(t.factory),t.definition.boot()),t.definition}},{key:"getRegistryItem",value:function(e){return this.registry.find(function(t){return t.name==e})}},{key:"createDefinition",value:function(e){var t=this.baseModel;return e(function(e){function t(){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return _inherits(t,e),t}(t))}}]),e}();exports["default"]=Manager,module.exports=exports["default"];

},{}],6:[function(require,module,exports){
"use strict";function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(r,t,n){return t&&e(r.prototype,t),n&&e(r,n),r}}(),QueryBuilder=function(){function e(r){if(_classCallCheck(this,e),!r||"function"!=typeof r.get)throw new Error("Missing argument 1 for QueryBuilder, expected Transport");this.transport=r,this.stack=[],this.endpoint=null}return _createClass(e,[{key:"_call",value:function(e,r){return this.stack.push([e,r]),this}},{key:"from",value:function(e){return this.endpoint=e,this}},{key:"select",value:function(){for(var e=arguments.length,r=Array(e),t=0;e>t;t++)r[t]=arguments[t];return this._call("select",r)}},{key:"addSelect",value:function(){for(var e=arguments.length,r=Array(e),t=0;e>t;t++)r[t]=arguments[t];return this._call("addSelect",r)}},{key:"distinct",value:function(){return this._call("distinct",[])}},{key:"where",value:function(){for(var e=arguments.length,r=Array(e),t=0;e>t;t++)r[t]=arguments[t];return this._call("where",r)}},{key:"orWhere",value:function(){for(var e=arguments.length,r=Array(e),t=0;e>t;t++)r[t]=arguments[t];return this._call("orWhere",r)}},{key:"whereBetween",value:function(){for(var e=arguments.length,r=Array(e),t=0;e>t;t++)r[t]=arguments[t];return this._call("whereBetween",r)}},{key:"orWhereBetween",value:function(){for(var e=arguments.length,r=Array(e),t=0;e>t;t++)r[t]=arguments[t];return this._call("orWhereBetween",r)}},{key:"whereNotBetween",value:function(){for(var e=arguments.length,r=Array(e),t=0;e>t;t++)r[t]=arguments[t];return this._call("whereNotBetween",r)}},{key:"orWhereNotBetween",value:function(){for(var e=arguments.length,r=Array(e),t=0;e>t;t++)r[t]=arguments[t];return this._call("orWhereNotBetween",r)}},{key:"whereNested",value:function(){for(var e=arguments.length,r=Array(e),t=0;e>t;t++)r[t]=arguments[t];return this._call("whereNested",r)}},{key:"whereExists",value:function(){for(var e=arguments.length,r=Array(e),t=0;e>t;t++)r[t]=arguments[t];return this._call("whereExists",r)}},{key:"orWhereExists",value:function(){for(var e=arguments.length,r=Array(e),t=0;e>t;t++)r[t]=arguments[t];return this._call("orWhereExists",r)}},{key:"whereNotExists",value:function(){for(var e=arguments.length,r=Array(e),t=0;e>t;t++)r[t]=arguments[t];return this._call("whereNotExists",r)}},{key:"orWhereNotExists",value:function(){for(var e=arguments.length,r=Array(e),t=0;e>t;t++)r[t]=arguments[t];return this._call("orWhereNotExists",r)}},{key:"whereIn",value:function(){for(var e=arguments.length,r=Array(e),t=0;e>t;t++)r[t]=arguments[t];return this._call("whereIn",r)}},{key:"orWhereIn",value:function(){for(var e=arguments.length,r=Array(e),t=0;e>t;t++)r[t]=arguments[t];return this._call("orWhereIn",r)}},{key:"whereNotIn",value:function(){for(var e=arguments.length,r=Array(e),t=0;e>t;t++)r[t]=arguments[t];return this._call("whereNotIn",r)}},{key:"orWhereNotIn",value:function(){for(var e=arguments.length,r=Array(e),t=0;e>t;t++)r[t]=arguments[t];return this._call("orWhereNotIn",r)}},{key:"whereNull",value:function(){for(var e=arguments.length,r=Array(e),t=0;e>t;t++)r[t]=arguments[t];return this._call("whereNull",r)}},{key:"orWhereNull",value:function(){for(var e=arguments.length,r=Array(e),t=0;e>t;t++)r[t]=arguments[t];return this._call("orWhereNull",r)}},{key:"whereNotNull",value:function(){for(var e=arguments.length,r=Array(e),t=0;e>t;t++)r[t]=arguments[t];return this._call("whereNotNull",r)}},{key:"orWhereNotNull",value:function(){for(var e=arguments.length,r=Array(e),t=0;e>t;t++)r[t]=arguments[t];return this._call("orWhereNotNull",r)}},{key:"whereDate",value:function(){for(var e=arguments.length,r=Array(e),t=0;e>t;t++)r[t]=arguments[t];return this._call("whereDate",r)}},{key:"whereDay",value:function(){for(var e=arguments.length,r=Array(e),t=0;e>t;t++)r[t]=arguments[t];return this._call("whereDay",r)}},{key:"whereMonth",value:function(){for(var e=arguments.length,r=Array(e),t=0;e>t;t++)r[t]=arguments[t];return this._call("whereMonth",r)}},{key:"whereYear",value:function(){for(var e=arguments.length,r=Array(e),t=0;e>t;t++)r[t]=arguments[t];return this._call("whereYear",r)}},{key:"groupBy",value:function(){for(var e=arguments.length,r=Array(e),t=0;e>t;t++)r[t]=arguments[t];return this._call("groupBy",r)}},{key:"having",value:function(){for(var e=arguments.length,r=Array(e),t=0;e>t;t++)r[t]=arguments[t];return this._call("having",r)}},{key:"orHaving",value:function(){for(var e=arguments.length,r=Array(e),t=0;e>t;t++)r[t]=arguments[t];return this._call("orHaving",r)}},{key:"orderBy",value:function(){for(var e=arguments.length,r=Array(e),t=0;e>t;t++)r[t]=arguments[t];return this._call("orderBy",r)}},{key:"latest",value:function(e){return this._call("latest",e?[e]:[])}},{key:"oldest",value:function(e){return this._call("oldest",e?[e]:[])}},{key:"offset",value:function(e){return this._call("offset",[e])}},{key:"skip",value:function(e){return this._call("skip",[e])}},{key:"limit",value:function(e){return this._call("limit",[e])}},{key:"take",value:function(e){return this._call("take",[e])}},{key:"forPage",value:function(){for(var e=arguments.length,r=Array(e),t=0;e>t;t++)r[t]=arguments[t];return this._call("forPage",r)}},{key:"get",value:function(e){return e&&this.select(e),this.transport.get(this.getEndpoint(),this.stack)}},{key:"insert",value:function(e){return this.transport.post(this.getEndpoint(),e)}},{key:"update",value:function(e){return this.transport.put(this.getEndpoint(),e,this.stack)}},{key:"delete",value:function(){return this.transport["delete"](this.getEndpoint(),this.stack)}},{key:"getEndpoint",value:function(e){if(!this.endpoint)throw new Error("Endpoint is required but is not set.");return e?this.endpoint+"/"+e:this.endpoint}}]),e}();exports["default"]=QueryBuilder,module.exports=exports["default"];

},{}],7:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function buildUrl(e,t){return t&&t.length&&(e+="?query="+JSON.stringify(t)),e}function getInit(e,t,n){var r={credentials:"same-origin",headers:{Accept:"application/json","X-XSRF-TOKEN":getCsrfToken()}};return e&&(r.method=e),t&&(r.headers["Content-Type"]="application/json",r.body=JSON.stringify(t)),Object.assign(r,n||{})}function readJson(e){return e.json()}function getCsrfToken(){return"undefined"!=typeof document?decodeURIComponent((document.cookie.match("(^|; )XSRF-TOKEN=([^;]*)")||0)[2]):void 0}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();require("isomorphic-fetch");var Transport=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"get",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?[]:arguments[1];return fetch(buildUrl(e,t),getInit()).then(readJson)}},{key:"post",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return fetch(e,getInit("post",t)).then(readJson)}},{key:"put",value:function(e,t,n){return fetch(buildUrl(e,n),getInit("put",t)).then(readJson)}},{key:"delete",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?[]:arguments[1];return fetch(buildUrl(e,t),getInit("delete")).then(function(e){return 200===e.status})}}]),e}();exports["default"]=Transport,module.exports=exports["default"];

},{"isomorphic-fetch":1}],8:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var _EloquentBuilder=require("./Eloquent/Builder"),_EloquentBuilder2=_interopRequireDefault(_EloquentBuilder),_Manager2=require("./Manager"),_Manager3=_interopRequireDefault(_Manager2),_EloquentModel=require("./Eloquent/Model"),_EloquentModel2=_interopRequireDefault(_EloquentModel),_QueryBuilder=require("./Query/Builder"),_QueryBuilder2=_interopRequireDefault(_QueryBuilder),_QueryTransport=require("./Query/Transport"),_QueryTransport2=_interopRequireDefault(_QueryTransport),manager=void 0,Eloquent=function e(r,u){return manager||(manager=e.make.Manager()),u?(Object.defineProperty(e,r,{get:function(){return manager.named(r)}}),manager.define(r,u)):manager.named(r)};Eloquent.make={Builder:function(){return new _EloquentBuilder2["default"](this.Transport())},Transport:function(){return new _QueryTransport2["default"]},Manager:function(){return new _Manager3["default"](_EloquentModel2["default"])}},exports["default"]=Eloquent,module.exports=exports["default"];

},{"./Eloquent/Builder":3,"./Eloquent/Model":4,"./Manager":5,"./Query/Builder":6,"./Query/Transport":7}]},{},[8])(8)
});
